<!DOCTYPE html>
<html lang="cs">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<meta name="author" content="Daniel Langr">
<link rel="icon" type="image/png" href="../favicon/favicon.png">
<title>Jak C&#43;&#43; funguje?</title>
<link rel="stylesheet" href="../stylesheets/ubuntu-custom.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body class="article">
<div id="header">
<h1>Jak C&#43;&#43; funguje?</h1>
<div class="details">
<span id="author" class="author">Daniel Langr</span><br>
<span id="email" class="email"><a href="mailto:daniel.langr@gmail.com">daniel.langr@gmail.com</a></span><br>
<span id="revdate">2020-10-20</span>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>&#8220;<em>Writing in C or C++ is like running a chain saw with all the safety guards removed.</em>&#8221; <em>[Bob Gray]</em></p>
</div>
<div class="paragraph">
<p>C&#43;&#43; je tzv. „kompilovaný jazyk“ (<em>compiled language</em>), tj. programovací jazyk fungující na principu <strong>překladu zdrojového kódu na strojový kód</strong>. Nejjednodušší zdrojový kód programu vypadá v C&#43;&#43; následovně:</p>
</div>
<div class="listingblock">
<div class="title">main.cpp</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="c++" class="language-c++ hljs">int main() { }</code></pre>
</div>
</div>
<div class="paragraph">
<p>Jeho překladem pomocí C++ překladače, např. následujícím způsobem:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">g++ main.cpp</code></pre>
</div>
</div>
<div class="paragraph">
<p>vznikne <strong>program</strong> spustitelný na daném operačním systému. Jeho spuštěním vznikne běžící instance programu&#8201;&#8212;&#8201;<strong>proces</strong> operačního systému&#8201;&#8212;&#8201;který začne vykonávat překladačem vygenerovaný strojový kód, tj. <strong>instrukce procesoru</strong>. Ty v uvedeném případě při překladu na architektuře x86_64 vypadají následovně:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="x86asm" class="language-x86asm hljs">push rbp
mov  rbp, rsp
mov  eax, 0
pop  rbp
ret</code></pre>
</div>
</div>
<div class="paragraph">
<p>Definice programovancího jazyka C&#43;&#43;, kterou má na starosti tzv. <strong>Standard C&#43;&#43;</strong>, defakto představuje úmluvu mezi programátorem a C&#43;&#43; překladačem. Tato úmluvá &#8220;říká&#8221;, že vygenerovaný program bude mít z pohledu jeho okolí <strong>stejný pozorovatelný efekt</strong> (<em>observable effect</em>) jako jeho zdrojový kód.</p>
</div>
<div class="paragraph">
<p>Výše zapsaný zdrojový kód zdánlivě žádný pozorovatelný efekt nemá. To ale není pravda&#8201;&#8212;&#8201;každý proces po skončení vrací (např. procesu, který ho spustil) svoji <strong>návratovou hodnotu</strong>. Ta se v případě C&#43;&#43; programů rovná hodnotě navrácené z funkce <code>main</code>. Od C&#43;&#43;11 již nemusíme návratovou hodnotu 0 funkce <code>main</code> explicitně vracet pomocí <code>return</code>.</p>
</div>
<div class="paragraph">
<p>Jak tento pozorovatelný efekt program docílí je záležitost překladače.</p>
</div>
<div class="paragraph">
<p>Vidíme, že i a o</p>
</div>
<div class="paragraph">
<p>Nějaký text v &#8220;českém jazyce&#8221;&#8230;&#8203;</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="c++" class="language-c++ hljs">#include &lt;iostream&gt;
#include &lt;string&gt;

int main()
{
  const std::string s = "hello world";
  std::cout &lt;&lt; s &lt;&lt; std::endl;
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_nadpis_druhé_úrovně">Nadpis druhé úrovně</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Nějaký matematický výraz: \$\alpha=\sum_{i=1}^{n}a_i\$.</p>
</div>
<div class="sect2">
<h3 id="_nadpis_třetí_úrovně">Nadpis třetí úrovně</h3>
<div class="paragraph">
<p>\$E=mc^2\$, \$e^{i\pi}+1=0\$</p>
</div>
<hr>
<div id="disqus_thread"></div>
<script>
var disqus_config = function () {
this.page.url = window.location.href;
this.page.identifier = window.location.pathname;
};
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://cppblog.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<div class="sidebarblock">
<div class="content">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
&#169; 2020 Daniel Langr&#8201;&#8212;&#8201;všechna práva vyhrazena.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/agate.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js"></script>
<script>hljs.initHighlighting()</script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  messageStyle: "none",
  tex2jax: {
    inlineMath: [["\\(", "\\)"]],
    displayMath: [["\\[", "\\]"]],
    ignoreClass: "nostem|nolatexmath"
  },
  asciimath2jax: {
    delimiters: [["\\$", "\\$"]],
    ignoreClass: "nostem|noasciimath"
  },
  TeX: { equationNumbers: { autoNumber: "none" } }
})
MathJax.Hub.Register.StartupHook("AsciiMath Jax Ready", function () {
  MathJax.InputJax.AsciiMath.postfilterHooks.Add(function (data, node) {
    if ((node = data.script.parentNode) && (node = node.parentNode) && node.classList.contains('stemblock')) {
      data.math.root.display = "block"
    }
    return data
  })
})
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_HTMLorMML"></script>
</body>
</html>